<div class="container-sm">
    <h3 class="text-center">Sistema de gestion de Alimento</h3>
    <form action="/registro" method="post">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Escanear codigo de barras" name="codigoProducto" autofocus required>
        </div>
    </form>
    <h4 class="text-center">Sacos registrados hoy</h4>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Hora</th>
                <th scope="col">Tipo</th>
                <th scope="col" class="text-center">Peso</th>                
            </tr>
        </thead>
        <tbody>
            {{#each sacos}}
            <tr>
                <td id="hora">{{timestamp}}</td>
                <td>{{descripcion}}</td>
                <td class="text-center" id="cantidad">{{cantidad}}</td>
            </tr>
            {{/each}}
        </tbody>
        <tfoot>
            <tr class="fw-bold">
                <td colspan="2" class="text-end">Total</td>
                <td class="text-center" id="total">{{total}}</td>
            </tr>
        </tfoot>
    </table>
</div>
{{!script para convertir hora en formato hh:mm:ss y cantidad en formato 0.00}}
<script>
    var hora = document.getElementById("hora");
    var horaFormato = new Date(hora.innerHTML);
    hora.innerHTML = horaFormato.toLocaleTimeString();
    var cantidad = document.getElementById("cantidad");
    cantidad.innerHTML = parseFloat(cantidad.innerHTML).toFixed(2);
    var total = document.getElementById("total");
    total.innerHTML = parseFloat(total.innerHTML).toFixed(2);
</script>